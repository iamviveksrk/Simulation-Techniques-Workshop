<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Naive Bayes Spam Classification</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 20px;
    }

    .coin {
      display: inline-block;
      width: 50px;
      height: 50px;
      line-height: 50px;
      border-radius: 50%;
      border: 2px solid #000;
      text-align: center;
      margin: 10px;
      background-color: gold;
      position: relative;
    }

    .probabilities {
      display: flex;
      justify-content: center;
      margin: 20px 0;
    }

    .column {
      margin: 0 10px;
      text-align: center;
    }

    .highlight {
      border: 4px solid goldenrod;
      padding: 5px;
      border-radius: 10px;
    }

    .row {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      margin-top: 10px;
      border: 2px solid #000;
      padding: 5px;
      border-radius: 8px;
      flex-wrap: wrap;
    }

    .word {
      font-size: 10px;
      margin-top: 5px;
      text-align: center;
      width: 50px;
      position: absolute;
      top: 60px;
      left: 0;
      right: 0;
      margin-left: auto;
      margin-right: auto;
    }

    #result {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
    }

    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }

    .selected {
      background-color: green !important;
    }

    .rejected {
      background-color: red !important;
    }
  </style>
</head>
<body>
  <h1><i>SPAM / HAM</i> E-Mail Generative Process</h1>
  <div>
    <h3>Spam vs Non-Spam Toss</h3>
    <div class="coin" id="spam-coin">60%</div>
  </div>
  <div class="probabilities">
    <div class="column" id="spam-column">
      <h3>Spam</h3>
      <div class="row">
        <div class="coin spam">90%<div class="word">LOTTERY</div></div>
        <div class="coin spam">90%<div class="word">MILLION</div></div>
        <div class="coin spam">80%<div class="word">REWARD</div></div>
        <div class="coin spam">10%<div class="word">EDUCATION</div></div>
        <div class="coin spam">5%<div class="word">CHOCOLATE</div></div>
      </div>
    </div>
    <div class="column" id="non-spam-column">
      <h3>Non-Spam</h3>
      <div class="row">
        <div class="coin non-spam">10%<div class="word">LOTTERY</div></div>
        <div class="coin non-spam">5%<div class="word">MILLION</div></div>
        <div class="coin non-spam">10%<div class="word">REWARD</div></div>
        <div class="coin non-spam">80%<div class="word">EDUCATION</div></div>
        <div class="coin non-spam">80%<div class="word">CHOCOLATE</div></div>
      </div>
    </div>
  </div>
  <button onclick="simulateTosses()">Generate E-Mail</button>
  <div id="result"></div>

  <script>
    function simulateTosses() {
      // Reset previous highlights and colors
      document.getElementById('spam-column').classList.remove('highlight');
      document.getElementById('non-spam-column').classList.remove('highlight');
      document.querySelectorAll('.coin').forEach(coin => {
        coin.classList.remove('selected', 'rejected');
      });

      const isSpam = Math.random() < 0.6; // Toss the spam/non-spam coin

      // Highlight the corresponding column
      document.getElementById('spam-column').classList.toggle('highlight', isSpam);
      document.getElementById('non-spam-column').classList.toggle('highlight', !isSpam);

      // Generate words based on the chosen column probabilities
      const wordProbabilities = isSpam
        ? [0.9, 0.9, 0.8, 0.1, 0.05]
        : [0.1, 0.05, 0.1, 0.8, 0.8];
      const words = ['LOTTERY', 'MILLION', 'REWARD', 'EDUCATION', 'CHOCOLATE'];
      const results = wordProbabilities.map(p => Math.random() < p);

      // Animate the coin toss results
      const coins = document.querySelectorAll(`#${isSpam ? 'spam-column' : 'non-spam-column'} .coin`);
      const sentence = [];
      coins.forEach((coin, index) => {
        setTimeout(() => {
          if (results[index]) {
            coin.classList.add('selected');
            sentence.push(words[index]);
          } else {
            coin.classList.add('rejected');
          }

          if (index === coins.length - 1) {
            document.getElementById('result').textContent = `E-Mail: ${sentence.join(' ')}`;
          }
        }, index * 500);
      });
    }
  </script>
</body>
</html>
